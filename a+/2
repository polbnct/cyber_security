- IP -------------------------------

-> Network topology
-- Ethernet, DSL, cable system

-> Internet Protocol (IP)
- Boxes of TCP and UDP

Visualization;
Client (Ethernet Header) -> Ethernet Payload -> (Ethernet Trailer) Server

[ IP , TCP, HTTP data ]

-> TCP and UDP
- Transported inside of IP
-- Encapsulated by the IP protocol
-- Two ways to move data from place to place
-- OSI Layer 4 (Transport Layer)
-- Multiplexing
--- Use many different applications at the same time

-> Transmission Control Protocol (TCP)
- Connection-oriented
-- A formal connection setup and close
- Reliable delivery
-- Recovery from errors
-- Can manage out-of-order messages or retransmissions
- Flow Control
-- The receiver can manage how much data is sent

Computer -> TCP Data -> <- TCP ACK <- Server

-> User Datagram Protocol (UDP)
- Connectionless 
-- No formal open or close to the connection
- Unreliable delivery
-- No error recovery
-- No reordering of data or retransmission
- No flow control
-- Sender determines the amount of data transmitted

Computer -> UDP DAta -> Server

Why would you use UDP?
- Real-time communication
-- There's no way to stop and resend the data
-- Time doesn't stop for your network

-> Connectionless protocols
-- DHCP (Dynamic Host Configuraiton Protocol)
-- TFTP (Trivial File Transfer Protocol)

- Data might not get through
-- The application keeps track and decides what to do
-- It might not do anything

Communicaiton using TCP ---

- Connection-oriented protocols prefer a "return receipt"
-- HTTPS (Hypertext Transfer Protocol Secure)
-- SSH (Secure Shell)

- The application doesn't worry about out of order frames or missing data
-- TCP handles all of the communication overhead
-- The application has one job

-> Speedy deliver
- The IP delivery truck delivers from one (IP) address to another (IP) Address
-- Every house have unique ID
- Boxes arrive at the house / IP address
-- Where does box go?
- Port is written on the outside of the box
-- Drop the box into the right room

-> Lots of Ports
- IPv4 sockets;
-- Server IP Address, protocol, server application port number
-- Client IP Address, protocol, client port number

- Non-ephemeral ports - permanent port numbers
-- Ports 0 through 1,023
-- Usually on a server or service

- Ephemeral ports - temporary port numbers
-- Ports 1,024 through 65,535
-- Determined in a real-time by client

-> Port numbers
- TCP and UDP ports can be any number 0 and 65,535
- Most servers (services) used non-ephemeral (non-temporary) port numbers
-- This isn't always the case (It's just a number)
- Port numbers are for communication, not security
- Service port numbers need to be "well-known"
- TCP port numbers aren;t the same as UDP port numbers

-> Ports on the network
- Web server - tcp/80
- VoIP server - udp/5004
- Email server - tcp/143

---------------------------------------------------------

-> Port Numbers
- Well known port numbers
-- Client and server need to match
- Important for firewalls rules (Port based security)
- A bit of rote memorization
-- Becomes second nature after a while
- Make sure you know port number, protocol, and how the protocol is used

-> File Transfer Protocol (FTP)
Port Numbers;
- tcp/20 (active mode data)
- tcp/21 (control)
-- Transfers files between systems

- Authenticates with a username and password
-- Some systems use a generic/anonymous login

- Full-featured functionality
-- List, add, delete, etc.

-> Secure Shell (SSH)
- Encrypt communication link - tcp/22
- Looks and acts as the same as telnet

-> Telecommuncation Network (Telnet)
- tcp/23
- Logins to device remotely
-- Console Access
- In-the-clear communication
-- Not the best choice for production system

-> Simple Mail Transfer Protocol (SMTP)
- Server to server email transfer
- tcp/25
- Also used to send mail from a device to a mail server
- Other protocols are used for clients to receive email (IMAP, MOP)

-> Domain Name System (DNS)
- Converts names to IP addresses
- udp/53
- There are very critical resources
-- Usually multiple DNS servers are in production

-> Dynamic Host Configuration Protocol (DHCP)
- Autoated configuration of IP Address, subnet mask and other options
- udp/67, udp/68
- Requires a DHCP server
-- Server, Applicance, integrated into a SOHO router, etc.

- Dynamic / pooled
-- Ip addresses are assigned in real-time form a pool
-- Each system is given a lease and must renew at set interval

- DHCP reservation
-- Addresses are assigned by MAC address in the DHCP server
-- Manage addresses from one location

-> HTTP and HTTPS
Protocols;
- HTTP - tcp/80 - Hypertext Transfer Protocol - Web server communication
- HTTPS - tcp/443 - Hypertext Transfer Protocol Secure - Web server communication with encryption

-> POP3 / IMAP
- Receive emails from an email server
-- Authenticate and transfer

- POP3 = Post office Protocol version 3
-- tcp/110
-- Basic mail transfer functionality

- IMAP4 = Internet Message Access Protocol v4
-- tcp/143
-- Includes management of email inbox from multiple clients

- Server Message Block (SMB)
- Protocol used by Microsoft Windows
-- File sharing, printer sharing
-- Also called CIFS (Common Internet File System)

- Using NetBIOS over TCP/IP (Network Basic Input/Output Systme)
-- udp/137 - NetBIOS name services (nbname)
-- tcp/139 - NetBIOS session service (nbsession)

- Direct over tcp/445 (NetBIOS-less)
-- Direct SMB communication over TCP without the NetBIOS transport

-> Simple Network Management Protocol (SNMP)
- Gather statistics from network devices
-- Queries: udp/161
-- Traps: udp/162

- v1 - The original
-- Structured tables
-- In-the-clear

- v2 - A good step ahead
-- Data type enchancement
-- Bulk tranfers
-- Still in-the-clear

- v3 - A secure standard 
-- Message integrity
-- Authentication
-- Encryption

-> Lightweight Directory Access Protocol (LDAP)
- tcp/389

- Store and retrieve information in a network directory
-- Commonly used in Microsoft Active Directory

-> Remote Desktop Protocol (RDP)
- Share a desktop from a remote location over tcp/3389
- Remote Desktop Services on many Windows versions
- Can connect to an entire desktop or just an application
- Clients for Windows, macOS, Linux, Unix, iPhone, Android and other.

---------------------------------------

-> Network Devices;
- Many different devices and components
- Some of these functions are combined together (router/switch/firewall)
- Compare different devices

-> Routers;
- Routes traffic between IP subnets
-- Makes fowarding decisions based on IP address
-- Routers inside of switches sometimes called "layer 3 switches"
- Connects diverse network types (LAN, WAN, copper, fiber)

-> Switches;
- Bridging done in hardware
-- Application-specific integrated circuit (ASIC)
-- Forwards traffic based on data link address

- Many ports and features
-- (May provide PoE Power over Ethernet)

- Multilayer switch
-- includes routing functionality

Two types of Switch;

-> Unmanaged Switch;
- Very few configuration options (Plug and Play)
- Fixed configuration 
- Very little integration with other devices

-> Managed Switch;
- VLAN support (Interconnect with other switches via 802.1Q)
- Traffic prioritazion (Voice traffic gets higher prio)
- Redundancy support (STP)
- Port mirroring
- External management (SNMP)

-----
-> Access point;
- Not a wireless router (but a wireless connection that uses wired network)
- A bridge
-- Extends the wired network onto the wireless network
-- Makes forwarding decisions based on MAC address

-> Patch panels;
- Combination of punch-down blocks and RJ-45 connectors
- Runs from desks are made once 
-- Permanently punched down to patch panel

- Patch panel to switch can be easily changed
-- No spical tools
-- Just using existing cables

-> Firewalls;
- Filters traffic by port number (OSI layer (TCP/UDP)) (possible to filter based application)
- Can encrypt traffic into/out of the network
- Can proxy traffic
- Most firewalls can be layer 3 devices (routers) / usually sits on the ingress/eress of the network

-> Power over Ethernet (PoE)
- Power provided on an Ethernet cable
-- One wire for both network and electricity
-- Phones, cameras, wireless access points
-- Useful in difficult-to-power areas

- Power provided at switch
-- Built-in power - Endspans
-- In-line power injector - Midspans


-> PoE, PoE+, PoE++
- PoE: IEEE 802.3af-2003
-- The original PoE specification
-- Now part of the 802.3 standard
-- 15.4 watts DC power, 350 mA max current

- PoE+: IEEE 802.3at-2009
-- Now also part of the 802.3 standard
-- 25.5 watts DC poower, 600 mA max current 

- PoE++: IEEE 802.3bt-2018
-- 51 W (Type 3), 600 mA max current
-- 71.3 W (Type 4), 960 mA max current
-- PoE with 10GBASE-T

-> Hub;
- Multi-port repeater
-- Traffic going in one port is repeated to every other port
-- Everything is half-duplex
-- Becomes less efficient as network traffic increases
-- 10 megabit / 100 megabit

-> Cable Modem
- Broadband;
-- Transmission across multiple frequencies
-- Different traffic types

- Data on the cable network
-- DOCSIS (Data Over Cable Service Interface Specification)

- High-speed networking
-- Speeds up to 1 Gigabit/s are available

- Multiple Devices
-- Data, Voice, Video

-> DSL Modem
- ADSL (Asymmetric Digital Subscriber Line)
-- Uses telephone lines

- Download speed is faster than the upload speed (asymmetric)
-- 10,000 foot limitation form the central offic (CO)
-- 52 Mbit/s downstream / 16 Mbit/s upstream are common
-- Faster speeds may be possible if close to the CO

-> ONT;
- Optical Netowrk Terminal
-- Fiber to the premises

- Connect the ISP fiber network to the copper netwrok
-- Demarcation point (demarc) in the data center
-- Terminal box on the side of the building

- Line of responsibility
-- One side of the box is the ISP
-- Other side of the box is your network

-> Network Interface Card (NIC)
- The fundamentals network device
-- Every device on the network has a NIC
-- Computer, Servers, Printers, Routers, Switches, Phones, tablets, Cameras, etc.

- Specific to the network type;
-- Ethernet, WAN, wireless, etc

- Often built-in to the motherboard
-- Or added as an expansion card

- Many options
-- Single port, multi-port, copper, fiber

-> Software Defined Networking (SDN)
- Infrastructure layer / Data plane
-- Process the network frames and packets
-- Forwarding, trunking, encrypting, NAT

- Control Layer / Control Plane
-- Manages the actions of the data plane
-- Routing tables, session tables, NAT tables
-- Dynamic routing protocol updates

- Application layer / Management plane
-- Configure and manage the device
-- SSH, browser, API

Application Layer / Management Plane --> SSH, SNMP, API
Control Layer / Control Plane --> Dynamic routing protocols
Infrastructure Layer / Data Plane --> Network traffic







